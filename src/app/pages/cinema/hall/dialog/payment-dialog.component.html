<div mat-dialog-content>
  <div class="sign-form">
    <h2>Card information</h2>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row card-number">
            <label class="form-label">Card number</label>
            <input type="text" formControlName="cardNumber" 
            class="form-control label" 
            placeholder="4242 4242 4242 4242"
            minlength="19" 
            maxlength="19"
            [ngClass]="{ 'is-invalid': submitted && f.cardNumber.errors }"
            appCreditCardFormat />
            <div *ngIf="submitted && f.cardNumber.errors" class="invalid-feedback">
                <div *ngIf="f.cardNumber.errors.required">card is required</div>
            </div>
        </div>
        <div class="row">
          <div class="col">
            <label class="form-label">Expiration date</label>
            <input type="text" formControlName="expirationDate" 
            placeholder="MM/yyyy"
            minlength="7"
            maxlength="7"
            class="form-control label" 
            [ngClass]="{ 'is-invalid': submitted && f.expirationDate.errors }" />
            <div *ngIf="submitted && f.expirationDate.errors" class="invalid-feedback">
                <div *ngIf="f.expirationDate.errors.required">date is required</div>
            </div>
          </div>
          <div class="col">
            <label class="form-label">cvc</label>
            <input type="text" formControlName="cvc"
             class="form-control label" 
             placeholder="123"
             minlength="3"
             maxlength="3"
              [ngClass]="{ 'is-invalid': submitted && f.cvc.errors }" />
            <div *ngIf="submitted && f.cvc.errors" class="invalid-feedback">
                <div *ngIf="f.cvc.errors.required">cvc is required</div>
            </div>
          </div>
        </div>
        <div class="row">
            <button [disabled]="loading" class="btn btn-primary centered-button">
                <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
                Pay
                <mat-icon>lock</mat-icon>
            </button>
        </div>
    </form>
</div>
</div>
